# ë³€ìˆ˜/í•¨ìˆ˜ëª… ì¶”ì²œ ì±—ë´‡

&nbsp;ì´ìŠ¤íŠ¸ì†Œí”„íŠ¸ì—ì„œ ì£¼ê´€í•˜ëŠ” ë°±ì—”ë“œ ê°œë°œì ë¶€íŠ¸ìº í”„ 'ì˜¤ë¥´ë¯¸'ì—ì„œ ë§Œë“  í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. HTML, ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í–ˆë˜ ì•„ì´ë””ì–´ 'GPTì—ê²Œ ë³€ìˆ˜ëª…/í•¨ìˆ˜ëª… ì¶”ì²œë°›ê¸°'ë¥¼ ì‚¬ìš©í•˜ì—¬ ì œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.

&nbsp;OpenAIì˜ APIë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë“¤ì—ê²Œ ì±—GPTì˜ ë‹µë³€ì„ ì œê³µí•˜ëŠ” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. Djangoì˜ DRFë¥¼ ì‚¬ìš©í•´ BEì™€ FEë¥¼ ë³„ê°œë¡œ ë§Œë“œëŠ” ì‹ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

&nbsp;ê°œë°œ ê¸°ê°„ì€ 11.21~11.30 ì´ 10ì¼ì´ì—ˆìœ¼ë©° 1ì¸ê°œë°œë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

GitHub Repository : https://github.com/jmkim648/Ormi-Chatbot-BE

FE Repository : https://github.com/jmkim648/Ormi-Chatbot-FE

## <ëª©ì°¨>
[1. ìš”êµ¬ì‚¬í•­ ëª…ì„¸](#ìš”êµ¬ì‚¬í•­-ëª…ì„¸)

[2. ê°œë°œ ê¸°ìˆ  ë° í™˜ê²½](#ê°œë°œ-ê¸°ìˆ -ë°-í™˜ê²½)

[3. ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)

[4. API ëª…ì„¸](#api-ëª…ì„¸)

[5. ê¸°ëŠ¥ ì„¤ëª…](#ê¸°ëŠ¥-ì„¤ëª…)

[6. ê°œë°œ ì´ìŠˆ](#ê°œë°œ-ì´ìŠˆ)

[7. ê°œë°œ íšŒê³ ](#ê°œë°œ-íšŒê³ )

## <ìš”êµ¬ì‚¬í•­ ëª…ì„¸>
### [ê¸°ë³¸ ìš”êµ¬ì‚¬í•­]
- DRFë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•  ê²ƒ
- CBVë¥¼ ì‚¬ìš©í•  ê²ƒ
- íšŒì›ê°€ì…, ë¡œê·¸ì¸ êµ¬í˜„
- FE -> BE(Django server) -> OpenAI API api -> FE ì˜ êµ¬ì¡°ë¥¼ ê±°ì³ ë°˜ì˜
- ì±—ë´‡ APIëŠ” ë¡œê·¸ì¸ í•œ ì‚¬ìš©ìë§Œ ì‚¬ìš© ê°€ëŠ¥
- ê° ìœ ì € ë‹¹ í•˜ë£¨ 5ë²ˆë§Œ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ ì œí•œ
- ì±„íŒ…(ì±—ë´‡ ìƒë‹´)ë‚´ì—­ì„ ì €ì¥, ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„
- ê° ì €ì¥ ë‚´ì—­ì€ ë¡œê·¸ì¸í•œ ë³¸ì¸ë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„


### [ì„ íƒ ìš”êµ¬ì‚¬í•­]
- ë¼ì´íŠ¸ì„¸ì¼ì„ ì´ìš©í•˜ì—¬ FE, BE ì„œë²„ ë°°í¬
- ê°œì¸ ë„ë©”ì¸ ë“±ë¡, FE, BE ë°°í¬ : https ì¶”ê°€, frontëŠ” ë”°ë¡œ ë°°í¬(github pages ë“±)
- kakao, github ë“± OAuth2 ì—°ê²°í•´ë³´ê¸°

<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <ê°œë°œ ê¸°ìˆ  ë° í™˜ê²½>

### [Environment]
<img src="https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white"/>
<img src="https://img.shields.io/badge/visualstudio-007ACC?style=flat-square&logo=visualstudio&logoColor=white"/>
<img src="https://img.shields.io/badge/amazonaws-232F3E?style=flat-square&logo=amazonaws&logoColor=white"/>

### [Frontend]
<img src="https://img.shields.io/badge/HTML5-E34F26?style=flat-square&logo=html5&logoColor=white"/>
<img src="https://img.shields.io/badge/CSS3-1572B6?style=flat-square&logo=css3&logoColor=white"/>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=flat-square&logo=javascript&logoColor=white">
<img src="https://img.shields.io/badge/tailwindcss-06B6D4?style=flat-square&logo=tailwindcss&logoColor=white"/>

### [Backend]
<img src="https://img.shields.io/badge/python-3776AB?style=flat-square&logo=python&logoColor=white"/>
<img src="https://img.shields.io/badge/django-092E20?style=flat-square&logo=django&logoColor=white"/>

### [DB]
<img src="https://img.shields.io/badge/sqlite-003B57?style=flat-square&logo=sqlite&logoColor=white"/>


<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <ì£¼ìš” ê¸°ëŠ¥>

### [ë©”ì¸í™”ë©´]
![ë©”ì¸í™”ë©´](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/64e275bf-433b-46fe-b0c4-d6a537cae151)

### [WBS]
![WBS](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/d3cc138d-05e3-49c5-b7b7-935a1003506f)

### [Mindmap]
![MINDMAP_1](https://github.com/STP-TP/CMI.DB-Collector/assets/22714585/d6b0f005-cd91-4356-bfb9-f8d5b57bcc0f)

### [ERD]
![ERD_3](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/2eb0b074-848a-4413-8d41-919210819711)

### [Folder Tree]

```
ğŸ“¦ Ormi-Chatbot-BE
â”œâ”€Â .gitignore
â”œâ”€Â README.md
â”œâ”€Â accounts
â”‚Â Â â”œâ”€Â __init__.py
â”‚Â Â â”œâ”€Â admin.py
â”‚Â Â â”œâ”€Â apps.py
â”‚Â Â â”œâ”€Â migrations
â”‚Â Â â”œâ”€Â models.py
â”‚Â Â â”œâ”€Â serializers.py
â”‚Â Â â”œâ”€Â tests.py
â”‚Â Â â”œâ”€Â urls.py
â”‚Â Â â””â”€Â views.py
â”œâ”€Â board
â”‚Â Â â”œâ”€Â __init__.py
â”‚Â Â â”œâ”€Â admin.py
â”‚Â Â â”œâ”€Â apps.py
â”‚Â Â â”œâ”€Â migrations
â”‚Â Â â”œâ”€Â models.py
â”‚Â Â â”œâ”€Â permissions.py
â”‚Â Â â”œâ”€Â serializers.py
â”‚Â Â â”œâ”€Â tests.py
â”‚Â Â â”œâ”€Â urls.py
â”‚Â Â â””â”€Â views.py
â”œâ”€Â chat
â”‚Â Â â”œâ”€Â __init__.py
â”‚Â Â â”œâ”€Â admin.py
â”‚Â Â â”œâ”€Â apps.py
â”‚Â Â â”œâ”€Â migrations
â”‚Â Â â”œâ”€Â models.py
â”‚Â Â â”œâ”€Â permissions.py
â”‚Â Â â”œâ”€Â serializers.py
â”‚Â Â â”œâ”€Â tests.py
â”‚Â Â â”œâ”€Â urls.py
â”‚Â Â â””â”€Â views.py
â”œâ”€Â chatbot
â”‚Â Â â”œâ”€Â __init__.py
â”‚Â Â â”œâ”€Â asgi.py
â”‚Â Â â”œâ”€Â settings.py
â”‚Â Â â”œâ”€Â urls.py
â”‚Â Â â”œâ”€Â utils
â”‚Â Â â”‚Â Â â””â”€Â openAI_API.py
â”‚Â Â â””â”€Â wsgi.py
â”œâ”€Â manage.py
â””â”€Â requirements.txt
```
```
ğŸ“¦ Ormi-Chatbot-FE
â”œâ”€Â .vscode
â”‚Â Â â””â”€Â settings.json
â”œâ”€Â README.md
â”œâ”€Â board_detail.html
â”œâ”€Â board_list.html
â”œâ”€Â chat_detail.html
â”œâ”€Â chat_list.html
â”œâ”€Â index.html
â”œâ”€Â login.html
â”œâ”€Â signup.html
â””â”€Â js
   â”œâ”€Â chat_detail.js
   â”œâ”€Â chat_list.js
   â”œâ”€Â decodeJwt.mjs
   â”œâ”€Â footer.js
   â”œâ”€Â header.js
   â”œâ”€Â login.js
   â”œâ”€Â signup.js
   â””â”€Â token_refresh.mjs
```


### [Flowchart]
![í”Œë¡œìš°ì°¨íŠ¸_1](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/490744aa-da5d-4420-a8c2-436be81d3142)

### [Mockup Page]
|||
|------|---|
|![01_Main](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/16f32e2c-3882-49b2-b666-296c61230a1f)ë©”ì¸í™”ë©´|![02_Login](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/1075c75b-bed8-40fe-a73f-3ddcd0f2ffda)ë¡œê·¸ì¸|
|![03_Signup](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/73a7819c-fee5-444b-a2f9-a510b0497fd1)íšŒì›ê°€ì…|![04_Profile](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/79f65ed5-f5ef-4530-af86-8358286a1f2c)í”„ë¡œí•„|
|![05_Board](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/b60ec794-cc85-4020-833b-63e52c4a7d89)ê²Œì‹œíŒë¦¬ìŠ¤íŠ¸|![06_Board detail](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/718f49bf-5788-4f2f-ae46-834d60102c84)ê²Œì‹œíŒ ë””í…Œì¼|
|![07_Chat](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/9a6df776-78af-4beb-a6cd-f4dbc18d2c7f)ì±„íŒ…ë¦¬ìŠ¤íŠ¸|![08_Chat detail](https://github.com/jmkim648/Ormi-Chatbot-BE/assets/22714585/deb6c742-3f28-499c-bd52-bfe9ed792b46)ì±„íŒ… ë””í…Œì¼|

<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <API ëª…ì„¸>
|URL|í˜ì´ì§€ ì„¤ëª…|GET|POST|PUT|DELETE|ë¡œê·¸ì¸ ê¶Œí•œ ìš”êµ¬| ì‘ì„±ì ê¶Œí•œ ìš”êµ¬|
|------|---|:---:|:---:|:---:|:---:|:---:|:---:|
|/accounts/login|ë¡œê·¸ì¸| |âœ”ï¸| | | | |
|/accounts/logout|ë¡œê·¸ì•„ì›ƒ| |âœ”ï¸| | | | |
|/accounts/signup|íšŒì›ê°€ì…| |âœ”ï¸| | | | |
|/accounts/profile|í”„ë¡œí•„ <br> í”„ë¡œí•„ ìˆ˜ì • <br> íšŒì› íƒˆí‡´|âœ”ï¸| |âœ”ï¸|âœ”ï¸|âœ”ï¸ <br> âœ”ï¸ <br> âœ”ï¸|<br> âœ”ï¸ <br> âœ”ï¸
|/accounts/token/refresh|í† í°ê°±ì‹ | |âœ”ï¸| | | | |
|/board|ê²Œì‹œê¸€ ëª©ë¡ <br> ê²Œì‹œê¸€ ìƒì„±|âœ”ï¸|âœ”ï¸| | | <br> âœ”ï¸| |
|/board/{postid}|ê²Œì‹œê¸€ ìƒì„¸ <br> ê²Œì‹œê¸€ ìˆ˜ì • <br> ê²Œì‹œê¸€ ì‚­ì œ|âœ”ï¸| |âœ”ï¸|âœ”ï¸| <br> âœ”ï¸ <br> âœ”ï¸ | <br> âœ”ï¸ <br> âœ”ï¸
|/chat|ì±„íŒ… ëª©ë¡ <br> ì±„íŒ… ìƒì„±|âœ”ï¸|âœ”ï¸| |âœ”ï¸| âœ”ï¸<br>âœ”ï¸| 
|/chat/{chatid}|ì±„íŒ… ìƒì„¸ <br> ë©”ì‹œì§€ ë°œì†¡ <br> ì±„íŒ… ì‚­ì œ|âœ”ï¸|âœ”ï¸| | | âœ”ï¸ <br> âœ”ï¸ <br> âœ”ï¸ | âœ”ï¸ <br> âœ”ï¸ <br> âœ”ï¸

- ê²Œì‹œíŒ ê¸€ ì‘ì„± ì¤‘ ì¹´í…Œê³ ë¦¬ê°€ 'ê³µì§€'ì¸ ê²½ìš°, ë§¤ë‹ˆì € ê¶Œí•œì´ ìˆëŠ” íšŒì›ë§Œ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <ê¸°ëŠ¥ ì„¤ëª…>


<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <ê°œë°œ ì´ìŠˆ>

### 1. adminí˜ì´ì§€ì—ì„œ login ë¶ˆê°€
&nbsp;BE í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³  Initì„ ë§ˆì¹œ ë’¤ ì²˜ìŒìœ¼ë¡œ êµ¬í˜„ì— ì°©ìˆ˜í•œ ê²ƒì€ Userëª¨ë¸ ì»¤ìŠ¤í…€ì´ì—ˆìŠµë‹ˆë‹¤. ì¬ëŸ‰ê» ì»¤ìŠ¤í…€ ë’¤ superuserë¥¼ ë§Œë“¤ê³  adminí˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ì„ í•˜ëŠ”ë° ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
```
DoesNotExist at /admin/login Site matching query does not exist.
```
ì²˜ìŒì—ëŠ” ìœ ì € ëª¨ë¸ì„ ì»¤ìŠ¤í…€í•˜ë˜ ì¤‘ ìœ ì € ë§¤ë‹ˆì €ë‚˜ adminí˜ì´ì§€ì—ì˜ ë°˜ì˜ì— ë¬¸ì œê°€ ìƒê¸´ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê¸°ë³¸ ìœ ì € ëª¨ë¸ì„ ì‚¬ìš©í•´ë„ ë˜ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

#### [ì›ì¸]
 - Djangoê°€ DBì— ê°€ì§€ê³  ìˆë˜ ì‚¬ì´íŠ¸ ì •ë³´ê°€ ì‚¬ë¼ì§„ ê²ƒ
 - ê°œë°œ ë„ì¤‘ í”„ë¡œì íŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“¤ê² ë‹¤ê³  DBë¥¼ ë‚ ë ¤ë²„ë¦¬ê³  ìƒˆë¡œ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ì¶”ì •
#### [í•´ê²°]
```shell
python manage.py shell

>>>from django.contrib.sites.models import Site
>>>Site.objects.create(name='your_site_name', domain='your_site_domain')
```
í•´ë‹¹ ì‘ì—…ì„ í•œ ë’¤ settings.pyì—ì„œ
```
SITE_ID = 1
```
ì„¤ì •ì„ í•´ì£¼ê³  ë‚˜ì„œì•¼ loginì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### 2. Userëª¨ë¸ì˜ ìš´ì˜ì§„ ê¶Œí•œì„ ê°€ì§„ ë³€ìˆ˜ ì„¤ì • ì‹œ is_staff ì‚¬ìš©

### 3. OpenAI_APIì˜ ë²„ì „ê³¼ ìš”ì²­ ë¬¸ì œ

### 4. FE(VSC liveserver) -> BE(djangoì˜ python manage.py runserver) ì—°ê²° ë¬¸ì œ

### 5. Chat_listì˜ POST ìš”ì²­ ì‹œ 400 BAD Request

### 6. Chatbotì˜ ë‹µë³€ ì¤‘ ê°œí–‰ë¬¸ì '\n'ì˜ ì²˜ë¦¬

### 7. Chat_detailì˜ POST ìš”ì²­ì—ë§Œ ìœ ì € ìš”ì²­ íšŸìˆ˜ ì œí•œ ì„¤ì •

<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>

## <ê°œë°œ íšŒê³ >



<div align="right">

[ëª©ì°¨ë¡œ](#ëª©ì°¨)

</div>
